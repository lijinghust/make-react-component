module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t){e.exports=require("react")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatPieData=function(e,t){return"foreground"===t?e.map((function(e){return{x:"1"===e.name?"前台":"后台",y:e.total}})):"illegal"===t?e.map((function(e){return{x:"1"===e.name?"被篡改":"没有被篡改",y:e.total}})):"so_hotfix"===t?e.map((function(e){return{x:"0"===e.name?"非热更":"热更",y:e.total}})):e.map((function(e){return{x:e.name,y:e.total}}))}},function(e,t){e.exports=require("antd/lib/row")},function(e,t){e.exports=require("antd/lib/empty")},function(e,t){e.exports=require("antd/lib/col")},function(e,t){e.exports=require("ant-design-pro/lib/Charts")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),a=r(12),o={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"},i=n.extend({errorHandler:function(e){var t=e.response;if(t&&t.status){var r=o[t.status]||t.statusText,n=t.status,i=t.url;a.notification.error({message:"请求错误 "+n+": "+i,description:r})}else t||a.notification.error({description:"您的网络发生异常，无法连接服务器",message:"网络异常"});return t},credentials:"include"});t.default=i},function(e,t){e.exports=require("antd/lib/row/style/css")},function(e,t){e.exports=require("antd/lib/empty/style/css")},function(e,t){e.exports=require("antd/lib/col/style/css")},function(e,t){e.exports=require("ant-design-pro/lib/Charts/style")},function(e,t){e.exports=require("umi-request")},function(e,t){e.exports=require("antd")},function(e,t,r){"use strict";r.r(t);r(7);var n=r(2),a=r.n(n),o=(r(8),r(3)),i=r.n(o),u=(r(9),r(4)),c=r.n(u),l=(r(10),r(5)),s=r.n(l),f=r(0),p=r.n(f),d=r(6),m=r.n(d),b=r(1),y={foreground:"前后台占比",model:"机型占比",device_name:"设备占比",product_brand:"手机厂商占比",os_version:"系统版本占比",dic:"渠道占比",so_hotfix:"热更占比",illegal:"篡改占比"};Object.keys(y).map((function(e){return{value:e,name:y[e]}}));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=s.a.Pie,j={prod:"https://collapse-abs.amap.com",pre:"https://pre-collapse-abs.amap.com",daily:"http://daily-collapse-abs.amap.com",local:""};t.default=function(e){var t=e.params,r=e.env,n=e.type,o=v(Object(f.useState)({}),2),u=o[0],l=o[1],s=j[r];Object(f.useEffect)((function(){m()("".concat(s,"/amap/crashstat/crashType"),{method:"post",data:t}).then((function(e){l(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.data))}))}),[]),console.log("crashCategory",u);var d={};u.children&&u.children.length&&u.children.forEach((function(e){e.name===n&&(d=e)}));var x=[];if(d.children&&(x=Object(b.formatPieData)(d.children,n)),!n)return null;if("string"==typeof n&&"all"!==n||0===n.length){var P=y[n]||"未命名";return p.a.createElement(O,{className:"crash-pie",hasLegend:!0,title:P,subTitle:P,data:x||[],height:200})}return"all"===n||n.length&&n.length>0?p.a.createElement(a.a,{gutter:36},u.children&&u.children.length>0?u.children.map((function(e){if("all"===n||n.includes(e.name)){var t=y[e.name]||"未命名",r=Object(b.formatPieData)(e.children,e.name);return p.a.createElement(c.a,{md:24,lg:12,xl:12,xxl:8,key:e.name},p.a.createElement(O,{className:"crash-pie",hasLegend:!0,title:t,subTitle:t,data:r||[],height:200}))}})):p.a.createElement(i.a,null)):p.a.createElement(p.a.Fragment,null,"您选择的类型不正确")}}]);